{"version":3,"sources":["webpack:///./src/app/pages/sign-in-booking/sign-in-booking.module.ts","webpack:///./src/app/pages/sign-in-booking/sign-in-booking.page.html","webpack:///./src/app/pages/sign-in-booking/sign-in-booking.page.scss","webpack:///./src/app/pages/sign-in-booking/sign-in-booking.page.ts","webpack:///./src/app/services/booking.service.ts"],"names":[],"mappings":"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","file":"pages-sign-in-booking-sign-in-booking-module.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignInBookingPage } from './sign-in-booking.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { NgxSpinnerModule } from \"ngx-spinner\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignInBookingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    NgxSpinnerModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SignInBookingPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class SignInBookingPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button color=\\\"secondary\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n        <ion-text color=\\\"light\\\">\\n          <ion-text color=\\\"light\\\" class=\\\"fw700\\\">Bookings</ion-text>\\n        </ion-text>\\n    </ion-title>\\n    \\n  </ion-toolbar>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-searchbar (ionInput)=\\\"filterList($event.target.value)\\\"></ion-searchbar>\\n    <!-- <ion-buttons slot=\\\"end\\\">\\n      <ion-button size=\\\"small\\\" shape=\\\"round\\\" color=\\\"medium\\\" (click)=\\\"searchFilter()\\\">\\n        <ion-icon name=\\\"options\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"chevron-down-circle-outline\\\"\\n      pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\"\\n      refreshingText=\\\"Refreshing Bookings...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <!-- <div class=\\\"wrap\\\" style=\\\"height: 100%; flex-direction: column;\\\" *ngIf=\\\"empty\\\">\\n    <ion-text style=\\\"text-align: center; margin-bottom: 60px; font-size: 20px; color: blue;\\\">No bookings found,...pull to refresh</ion-text>\\n  </div> -->\\n\\n  <ion-card *ngFor=\\\"let booking of bookings\\\">\\n    <ion-card-content no-padding>\\n      <ion-card-title style=\\\"padding-bottom: 5px; font-size: 18px; background-color:#2f32a0; color: white; padding: 5px;\\\">\\n        {{booking.first_name}} {{booking.last_name}}\\n      </ion-card-title>\\n      <p style=\\\"font-size: 12px; padding: 6px;\\\">\\n        <strong>Booking #:</strong> {{booking.booking_ref_no}} <br><strong>Date: </strong>{{booking.visit_date | date: 'dd/MM/yyyy'}} <br><strong>Pupose of Visit: </strong>{{booking.purpose_of_visit}}\\n      </p>\\n    </ion-card-content>\\n\\n    <ion-row no-padding>\\n      <ion-col no-padding>\\n        <ion-button expand=\\\"clear\\\" size=\\\"small\\\" color=\\\"primary\\\" style=\\\"width: 100%;\\\" icon-start (click)=\\\"presentBooking(booking)\\\">\\n          <ion-icon name='information'></ion-icon>\\n          &nbsp; Info\\n        </ion-button>\\n      </ion-col>\\n      <ion-col text-right no-padding>\\n        <ion-button expand=\\\"clear\\\" size=\\\"small\\\" color=\\\"primary\\\" style=\\\"width: 100%;\\\" icon-start (click)=\\\"signIn(booking)\\\">\\n          <ion-icon name='log-in'></ion-icon>\\n          &nbsp; Sign In\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n\\n  </ion-card>\\n  \\n  \\n</ion-content>\\n\\n<ngx-spinner></ngx-spinner>\\n\\n<popmenu></popmenu>\\n\\n  \"","module.exports = \":host ion-content {\\n  --background: var(--ion-color-light);\\n}\\n:host ion-item {\\n  border-radius: 0;\\n  border-bottom: 1px dotted var(--ion-color-medium);\\n}\\n:host ion-card.no-radius {\\n  border-radius: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90YW11a2EvRG9jdW1lbnRzL0RldmVsb3BtZW50UHJvamVjdHMvYm9va2luZy1tYXRlL21vYmlsZS1hcHAvc3JjL2FwcC9wYWdlcy9zaWduLWluLWJvb2tpbmcvc2lnbi1pbi1ib29raW5nLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc2lnbi1pbi1ib29raW5nL3NpZ24taW4tYm9va2luZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxvQ0FBQTtBQ0FSO0FER0k7RUFDSSxnQkFBQTtFQUNBLGlEQUFBO0FDRFI7QURLUTtFQUNJLGdCQUFBO0FDSFoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zaWduLWluLWJvb2tpbmcvc2lnbi1pbi1ib29raW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgICBpb24tY29udGVudCB7XG4gICAgICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICB9XG5cbiAgICBpb24taXRlbSB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gICAgfVxuXG4gICAgaW9uLWNhcmQge1xuICAgICAgICAmLm5vLXJhZGl1cyB7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICB9XG4gICAgfVxufSIsIjpob3N0IGlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xufVxuOmhvc3QgaW9uLWl0ZW0ge1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xufVxuOmhvc3QgaW9uLWNhcmQubm8tcmFkaXVzIHtcbiAgYm9yZGVyLXJhZGl1czogMDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport {\n  NavController,\n  AlertController,\n  MenuController,\n  ToastController,\n  PopoverController,\n  ModalController,\n  Platform, \n  LoadingController} from '@ionic/angular';\nimport { BookingService } from 'src/app/services/booking.service';\nimport { VisitorsService } from 'src/app/services/visitors.service';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { Storage } from '@ionic/storage';\n\n// Modals\nimport { SearchFilterPage } from '../../pages/modal/search-filter/search-filter.page';\nimport { ImagePage } from './../modal/image/image.page';\nimport { finalize } from 'rxjs/operators';\n\nconst TOKEN_KEY = 'access_token';\n\n@Component({\n  selector: 'app-sign-in-booking',\n  templateUrl: './sign-in-booking.page.html',\n  styleUrls: ['./sign-in-booking.page.scss'],\n})\nexport class SignInBookingPage implements OnInit {\n  searchKey = '';\n  bookings: any;\n  loading = false;\n  staff:any;\n  empty = true;\n\n  constructor(\n    public navCtrl: NavController,\n    public menuCtrl: MenuController,\n    public popoverCtrl: PopoverController,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    private service: BookingService,\n    private visitorsService: VisitorsService,\n    private spinner: NgxSpinnerService,\n    private helper: JwtHelperService, \n    private storage: Storage,\n  ) {\n\n  }\n\n  async ngOnInit() {\n    await this.getStaff();\n    this.spinner.show();\n    await this.getBookings();\n  }\n\n  async getStaff() {\n    await this.storage.get(TOKEN_KEY)\n      .then((token) => {\n\n        if (token) {\n          let decoded = this.helper.decodeToken(token);\n          this.staff = decoded;\n          console.log(this.staff)\n        }\n\n      });\n  }\n\n  getBookings() {\n    this.service.allBookings(this.staff).pipe(\n      finalize(() => this.spinner.hide())\n    ).subscribe(res => {\n      this.bookings = res;\n      if(this.bookings){\n        this.empty = false;\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  doRefresh(event) {\n    setTimeout(() => {\n      this.getBookings();\n      event.target.complete();\n    }, 2000);\n  }\n\n  ionViewWillEnter() {\n    this.menuCtrl.enable(true);\n  }\n\n  async searchFilter () {\n    const modal = await this.modalCtrl.create({\n      component: SearchFilterPage\n    });\n    return await modal.present();\n  }\n\n  async filterList(evt) {\n    const searchTerm = evt;\n  \n    if (!searchTerm) {\n      await this.getBookings();\n      return;\n    }\n  \n    this.bookings = this.bookings.filter(currentVisitor => {\n      if (currentVisitor.first_name && searchTerm) {\n        return (currentVisitor.first_name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1);\n      }\n      if (currentVisitor.last_name && searchTerm) {\n        return (currentVisitor.last_name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1);\n      }\n      if (currentVisitor.booking_ref_no && searchTerm) {\n        return (currentVisitor.booking_ref_no.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1);\n      }\n    });\n  }\n\n  async presentBooking(booking: any) {\n    var myBooking = JSON.stringify(booking)\n\n    const modal = await this.modalCtrl.create({\n      component: ImagePage,\n      componentProps: { value: myBooking }\n    });\n    return await modal.present();\n  }\n\n\n  async signIn(booking) {\n    const alert = await this.alertCtrl.create({\n      header: 'Confirmation',\n      message: 'Sign in the visitor?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n        }, {\n          text: 'Confirm',\n          handler: async () => {\n\n            this.service.removeBooking(booking._id).subscribe();\n            this.visitorsService.visitorSignin(booking, this.staff).subscribe();\n\n            const loader = await this.loadingCtrl.create({\n              duration: 2000\n            });\n\n            loader.present();\n            loader.onWillDismiss().then(async l => {\n              const toast = await this.toastCtrl.create({\n                showCloseButton: true,\n                message: 'Visitor signed in successfully',\n                duration: 3000,\n                position: 'bottom'\n              });\n\n              toast.present();\n            });\n\n\n            this.ngOnInit();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n}\n\n\n","import { Injectable, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { Storage } from '@ionic/storage';\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\nimport { Platform } from '@ionic/angular';\n\nconst TOKEN_KEY = 'access_token';\n\nconst httpOptions = {\n  headers: new HttpHeaders({'Content-Type': 'application/json'})\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BookingService {\n\n  url = environment.url;\n  public company_id:any;\n  staff_id:any;\n  token:any;\n\n  constructor(private http: HttpClient, private helper: JwtHelperService, private storage: Storage, private plt: Platform) { \n    // this.plt.ready().then(() => {\n    //   this.getStaff();\n    // });\n  }\n\n  // async getStaff() {\n  //   await this.storage.get(TOKEN_KEY)\n  //     .then((token) => {\n\n  //       if (token) {\n  //         let decoded = this.helper.decodeToken(token);\n  //         this.company_id = decoded.company;\n  //         this.staff_id = decoded.id;\n  //       }\n\n  //     });\n  // }\n\n\n\n  private extractData(res: Response) {\n    let body = res;\n    return body || { };\n  }\n\n  delay(ms: number) {\n    return new Promise( resolve => setTimeout(resolve, ms) );\n  }\n\n  allBookings(staff): Observable<any> {\n    return this.http.get(`${this.url}/api/bookings/${staff.company}`, httpOptions).pipe(\n      map(this.extractData),\n    );\n  }\n\n  makeBooking(credentials) {\n    return this.http.post(`${this.url}/api/booking/${this.company_id}/create/${this.staff_id}`, credentials, httpOptions);\n  }\n\n  sendMail(credentials) {\n    console.log('in send mail function');\n    return this.http.post(`${this.url}/api/sendmail`, credentials);\n  }\n\n  removeBooking(id) {\n    return this.http.delete(`${this.url}/api/booking/delete/${id}`, id);\n  }\n\n  getBooking(id) {\n    return this.http.get(`${this.url}/api/booking/${id}`, id);\n  }\n\n  update(credentials) {\n    return this.http.patch(`${this.url}/api/booking/edit`, credentials);\n  }\n\n  form: FormGroup = new FormGroup({\n    _id: new FormControl(null),\n    first_name: new FormControl('', Validators.required),\n    last_name: new FormControl('', Validators.required),\n    mobile: new FormControl('',),\n    email: new FormControl('',),\n    company_name: new FormControl('', Validators.required),\n    address: new FormControl('', Validators.required),\n    id_number: new FormControl('', Validators.required),\n    vehicle_reg: new FormControl('',),\n    purpose_of_visit: new FormControl('', Validators.required),\n    person_visited: new FormControl('', Validators.required),\n    notes: new FormControl('',),\n    visit_date: new FormControl('', Validators.required),\n    booking_ref_no: new FormControl(null),\n    barcode: new FormControl(''),\n    __v: new FormControl(null),\n    date_booking_made: new FormControl(null),\n  });\n\n  initializeFormGroup() {\n    this.form.setValue({\n      _id: null,\n      first_name: '',\n      last_name: '',\n      mobile: '',\n      email: '',\n      company_name: '',\n      address: '',\n      id_number: '',\n      vehicle_reg: '',\n      purpose_of_visit: '',\n      person_visited: '',\n      notes: '',\n      visit_date: '',\n      booking_ref_no: '',\n      barcode: '',\n      __v: null,\n      date_booking_made: null,\n    });\n  }\n\n  populateForm(booking) {\n    this.form.setValue(booking);\n  }\n}\n"],"sourceRoot":""}